<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="http://cdn.opalrb.org/opal/current/opal.js"></script>
        <script src="http://cdn.opalrb.org/opal/current/opal-parser.js"></script>
        <script type="text/javascript">Opal.load('opal-parser')</script>
        <title>Learn Ruby</title>

        <!-- Bootstrap -->
        <link href="../assets/css/bootstrap.min.css" rel="stylesheet">

        <style type="text/css">
            body {
                padding: 20px 50px; }

            .examplecode {
                margin: 20px 20px;
                background-color: #262626;
                color: #ffffff;
                padding: 10px 10px; }

            .codebutton {
                display:inline;
                margin: 0 0 0 auto; }

            .graphic {
                text-align: center; }

            .indent1 {
                text-indent: 2em; }
        </style>

        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <script src="../assets/js/maze.js"></script>
    </head>
    <body>
        <nav>
            <ul class="pager">
                <li class="previous"><a href="../index.html"><span aria-hidden="true">&larr;</span> Back</a></li>
            </ul>
        </nav>
        <div class="page-header">
            <h1>Shuttle Sort</h1>
        </div>
        <p>Shuttle sort is another sorting algorithm. It is slightly more efficient than bubble sort because when a number reaches a pair in order, the algorithm returns to the start rather than going all the way to the end.</p>
        <hr />
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">Bubble Sort Algorithm</h3>
            </div>
            <div class="panel-body">
                <ol>
                    <li>Compare first and second elements and swap if they are in the wrong order</li>
                	<li>Compare second and third elements and swap if they are in the wrong order. If there was a swap return to step 1.</li>
                	<li>Compare the third and fourth elements and swap if they are in the wrong order. If there was a swap return to step 2.</li>
                	<li>Continue repeating the pattern until the nth element is reached.</li>
                </ol>
            </div>
        </div>
        <p>Once again here is a step by step example: </p>
        <div style="margin: 30px 30px;">
            <p>Order the list in descending order 2 5 1 3 4</p>
	        <h4>First Pass</h4>
	        <div style="line-height:25%;">
                <p>( <b>2 5</b> 1 3 4 ) &#8594; ( <b>5 2</b> 1 3 4 ) We swap 2 and 5 here since 5 > 2</p>
        	</div>
        	<h4>Second Pass</h4>
        	<div style="line-height:25%;">
        	    <p>( 5 <b>2 1</b> 3 4 ) &#8594; ( 5 <b>2 1</b> 3 4 ) Here no swap is made as 2 > 1 so the pair is already in order</p>
        	</div>
        	<h4>Third Pass</h4>
        	<div style="line-height:25%;">
        	    <p>( 5 2 <b>1 3</b> 4 ) &#8594; ( 5 2 <b>3 1</b> 4 )</p>
    	    <p>( 5 <b>2 3</b> 1 4 ) &#8594; ( 5 <b>3 2</b> 1 4 )</p>
    	    <p>( <b>5 3</b> 2 1 4 ) &#8594; ( <b>5 3</b> 2 1 4 )</p>
        	</div>
        	<h4>Fourth Pass</h4>
        	<div style="line-height:25%;">
        	    <p>( 5 3 2 <b>1 4</b> ) &#8594; ( 5 3 2 <b>4 1</b> )</p>
        	    <p>( 5 3 <b>2 4</b> 1 ) &#8594; ( 5 3 <b>4 2</b> 1 )</p>
        	    <p>( 5 <b>3 4</b> 2 1 ) &#8594; ( 5 <b>4 3</b> 2 1 )</p>
        	</div>
        </div>
        <hr />
        <h3>Try it yourself!</h3>
        <p>Try to write the shuttle sort algorithm in Ruby to sort an array. It should be defined in the form shuttleSort(array). It will be tested with a couple of different lists so you can see if it works, the results will be printed below.</p>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">CodeBox <button type="button" onclick="Opal.eval(document.getElementById('sortcode').value);Opal.Object.$printOutput();" class="btn btn-default btn-default-lg codebutton">
                    <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                </button></h3>
            </div>
            <div class="panel-body">
                <textarea name="codebox" class="form-control" rows="5" id="sortcode"></textarea>
            </div>
            <div class="panel-footer">
                <p>Output: </p>
                <pre id="output"></pre>
            </div>
        </div> 
        <script type="text/ruby">
            $arr = [[5,28,6,3,6,3,66,5,45],[6,3,9],[45,35,55,25,65,15],[999,0,33,6,4096]]

            def printOutput
                output = ""
                $arr.each { |array|
                    output = output + array.inspect + "  ->  " + shuttleSort(array).inspect + "\n"
                }
                %x{document.getElementById('output').innerHTML = #{output};}
            end
        </script> 
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="../assets/js/bootstrap.min.js"></script>
    </body>
</html>
