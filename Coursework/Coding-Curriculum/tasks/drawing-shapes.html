<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="http://cdn.opalrb.org/opal/current/opal.js"></script>
        <script src="http://cdn.opalrb.org/opal/current/opal-parser.js"></script>
        <script type="text/javascript">Opal.load('opal-parser')</script>
        <title>Learn Ruby</title>

        <!-- Bootstrap -->
        <link href="../assets/css/bootstrap.min.css" rel="stylesheet">

        <style type="text/css">
            body {
                padding: 20px 50px; }

            .examplecode {
                margin: 20px 20px;
                background-color: #262626;
                color: #ffffff;
                padding: 10px 10px; }

            .codebutton {
                display:inline;
                margin: 0 0 0 auto; }

            .graphic {
                text-align: center; }

            .indent1 {
                text-indent: 2em; }
        </style>

        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <script src="../assets/js/maze.js"></script>
    </head>
    <body>
        <nav>
            <ul class="pager">
                <li class="previous"><a href="../index.html"><span aria-hidden="true">&larr;</span> Back</a></li>
            </ul>
        </nav>
        <div class="page-header">
            <h1>Defining Shapes</h1>
        </div>
        <div>
            <p>You have been using functions a lot so far but only by calling them. Now you will get the chance to write some yourself!</p>
            <p>Functions are defined using the 'def' keyword like so and note that the first letter of the name is lower case:</p>
            <div class="panel panel-default">
                <div class="panel-body examplecode">
                    <p>def fillPage</p>
                    <p class="indent1">fillRect(0,0,400,400)</p>
                    <p>end</p>
                </div>
                <div class="panel-footer">
                    <p>This defines a function 'fillPage' that will fill the entire canvas (assuming it is 400 by 400 as in the previous examples). Note that the function definition is terminated by the 'end' keyword which means that you can put as much as you want inside the function as you want, as it knows when the function definition ends by the 'end' keyword.</p>
                </div>
            </div>  
            <p>You will quite often want to require arguments when you call a function which is done in a similar way to how it is called:</p>
            <div class="panel panel-default">
                <div class="panel-body examplecode">
                    <p>def drawArrow(x,y,length)</p>
                    <p class="indent1">drawLine(x,y,x+length,y)</p>
                    <p class="indent1">drawLine(x + length - 10, y + 10, x + length, y)</p>
                    <p class="indent1">drawLine(x + length - 10, y - 10, x + length, y)</p>
                    <p>end</p>
                </div>
                <div class="panel-footer">
                    <p>This will draw a right facing arrow starting at (x,y). Note how maths and the arguments can be used in place of values.</p>
                </div>
            </div>
            <p>Why don't you try to define some basic shapes, such as square and triangle and then call them below to draw a picture, maybe of your school? The canvas is 400 by 400</p>    
            <div class="graphic">
                <canvas id="drawing" width="400" height="400"></canvas>
            </div>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">CodeBox <button type="button" onclick="Opal.eval(document.getElementById('drawcode').value);" class="btn btn-default btn-default-lg codebutton">
                        <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                    </button></h3>
                </div>
                <div class="panel-body">
                    <textarea name="codebox" class="form-control" rows="5" id="drawcode"></textarea>
                </div>
            </div>  
        </div>
        <script src="../assets/js/drawing.js"></script>
        <script type="text/ruby">
            require 'js'

            def drawLine(x1,y1,x2,y2)
                %x{drawLine(#{x1},#{y1},#{x2},#{y2});}
            end

            def fillRect(x,y,width,height)
                %x{fillRect(#{x},#{y},#{width},#{height});}
            end

            def clearCanvas
                %x{clearCanvas();}
            end
        </script>
        <script type="text/javascript">
            clearCanvas();
        </script>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="../assets/js/bootstrap.min.js"></script>
    </body>
</html>
